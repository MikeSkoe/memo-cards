// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Card from "./card.bs.js";
import * as Stack from "./stack.bs.js";
import * as Belt_List from "rescript/lib/es6/belt_List.js";

function make(stack) {
  return {
          TAG: /* InProgress */0,
          _0: stack,
          _1: 0
        };
}

function next(t, familiarity) {
  if (typeof t === "number") {
    return t;
  }
  if (t.TAG !== /* InProgress */0) {
    return t;
  }
  var cursor = t._1;
  var stack$p = Stack.mapAt(t._0, cursor, (function (__x) {
          return Card.mapLevel(__x, (function (__x) {
                        return Card.shiftLevel(__x, familiarity);
                      }));
        }));
  var cursor$p = cursor + 1 | 0;
  if (cursor$p >= Belt_List.size(stack$p)) {
    return {
            TAG: /* Done */1,
            _0: stack$p
          };
  } else {
    return {
            TAG: /* InProgress */0,
            _0: stack$p,
            _1: cursor$p
          };
  }
}

var empty = /* Overview */0;

export {
  empty ,
  make ,
  next ,
  
}
/* No side effect */
